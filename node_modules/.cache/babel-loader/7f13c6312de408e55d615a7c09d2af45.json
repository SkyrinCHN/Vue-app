{"remainingRequest":"/Users/liuhai/Desktop/project/Vue-app/node_modules/babel-loader/lib/index.js!/Users/liuhai/Desktop/project/Vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhai/Desktop/project/Vue-app/src/components/goods/GoodsInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liuhai/Desktop/project/Vue-app/src/components/goods/GoodsInfo.vue","mtime":1551187248085},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/cache-loader/dist/cjs.js","mtime":1534853416000},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\"; //引入轮播图组件\n\nimport swipe from \"../sub/swipe\";\nexport default {\n  data: function data() {\n    return {\n      id: this.$route.params.id,\n      list: [],\n      val: 1,\n      info: {},\n      tabList: [{\n        id: 1,\n        name: '客服',\n        img_url: 'http://skyrinbyliu.applinzi.com/img/help.png'\n      }, {\n        id: 2,\n        name: '店铺',\n        img_url: 'http://skyrinbyliu.applinzi.com/img/shop.png'\n      }, {\n        id: 3,\n        name: '收藏',\n        img_url: 'http://skyrinbyliu.applinzi.com/img/shoucang.png'\n      }],\n      bottomShow: false,\n      //底部是否显示\n      topShow: true,\n      //头部是否显示\n      leftShow: true //返回按钮是否显示\n\n    };\n  },\n  methods: {\n    leftIsShow: function leftIsShow() {\n      this.$emit('leftIsShow', this.leftShow);\n    },\n    bottomIsShow: function bottomIsShow() {\n      this.$emit('bottomIsShow', this.bottomShow);\n    },\n    isShow: function isShow() {\n      this.$emit('isShow', this.topShow);\n    },\n    getGoodsInfo: function getGoodsInfo() {\n      var _this = this;\n\n      var id = this.id;\n      var url = \"http://skyrinbyliu.applinzi.com/getProduct?id=\" + id;\n      this.axios.get(url).then(function (result) {\n        _this.info = result.data.data;\n        console.log(_this.info);\n      });\n    },\n    // getGoodsInfo(){\n    //     //1:获取参数 id\n    //     var id = this.id;\n    //     //2:发送ajax请求获取商品信息\n    //     var url = \"http://127.0.0.1:3000/getProduct?id=\"+id;\n    //     this.axios.get(url).then(result=>{\n    //         this.info = result.data.data;\n    //     });\n    //   },\n    getImageList: function getImageList() {\n      var _this2 = this;\n\n      var url = \"http://skyrinbyliu.applinzi.com/getGoodsInfo\";\n      this.axios.get(url).then(function (result) {\n        _this2.list = result.data;\n        console.log(_this2.list);\n      });\n    },\n    less: function less() {\n      if (this.val > 1) {\n        this.val--;\n      }\n    },\n    more: function more() {\n      if (this.val < 998) {\n        this.val++;\n      }\n    },\n    addCart: function addCart() {\n      var _this3 = this;\n\n      //参数 uid = 1 pid count price\n      if (sessionStorage['loginInfo'] == null) {\n        Toast('请登录');\n        this.$router.replace('/Login');\n      } else {\n        var pid = this.id,\n            count = this.val,\n            price = 9.9,\n            uid = uid; //发送ajax请求将数据发送到服务器\n\n        var url = \"http://skyrinbyliu.applinzi.com/addCart?pid=\" + pid + \"&count=\" + count + \"&price=\" + price + \"&uid=\" + uid;\n        this.axios.get(url).then(function (result) {\n          //获取返回结果\n          //显示提示信息\n          // console.log(result.data);\n          if (result.code > 0) {\n            //如果商品添加成功 修改全局共享变量 cartCount\n            _this3.$store.commit(\"increment\");\n\n            Toast(result.data.msg);\n          } else {\n            Toast(result.data.msg);\n          }\n        });\n      }\n    }\n  },\n  created: function created() {\n    this.getImageList();\n    this.getGoodsInfo();\n    this.bottomIsShow();\n    this.isShow();\n    this.leftIsShow();\n  },\n  components: {\n    \"swipe-box\": swipe\n  }\n};",{"version":3,"sources":["GoodsInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,KAAA,QAAA,SAAA,C,CACA;;AACA,OAAA,KAAA,MAAA,cAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AAAA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AAAA,YAAA,EAAA;AAAA,WAAA,CAAA;AAAA,YAAA,EAAA;AACA,eAAA,CACA;AAAA,YAAA,CAAA;AAAA,cAAA,IAAA;AAAA,iBAAA;AAAA,OADA,EAEA;AAAA,YAAA,CAAA;AAAA,cAAA,IAAA;AAAA,iBAAA;AAAA,OAFA,EAGA;AAAA,YAAA,CAAA;AAAA,cAAA,IAAA;AAAA,iBAAA;AAAA,OAHA,CADA;AAMA,kBAAA,KANA;AAMA;AACA,eAAA,IAPA;AAOA;AACA,gBAAA,IARA,CAQA;;AARA,KAAA;AAWA,GAbA;AAcA,WAAA;AACA,cADA,wBACA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,KAAA,QAAA;AACA,KAHA;AAIA,gBAJA,0BAIA;AACA,WAAA,KAAA,CAAA,cAAA,EAAA,KAAA,UAAA;AACA,KANA;AAOA,UAPA,oBAOA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,OAAA;AACA,KATA;AAUA,gBAVA,0BAUA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA;AACA,UAAA,MAAA,mDAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,cAAA,IAAA,GAAA,OAAA,IAAA,CAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,IAAA;AACA,OAHA;AAIA,KAjBA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBA3BA,0BA2BA;AAAA;;AACA,UAAA,MAAA,8CAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,eAAA,IAAA,GAAA,OAAA,IAAA;AACA,gBAAA,GAAA,CAAA,OAAA,IAAA;AACA,OAHA;AAIA,KAjCA;AAkCA,QAlCA,kBAkCA;AACA,UAAA,KAAA,GAAA,GAAA,CAAA,EAAA;AACA,aAAA,GAAA;AACA;AACA,KAtCA;AAuCA,QAvCA,kBAuCA;AACA,UAAA,KAAA,GAAA,GAAA,GAAA,EAAA;AACA,aAAA,GAAA;AACA;AACA,KA3CA;AA4CA,WA5CA,qBA4CA;AAAA;;AACA;AACA,UAAA,eAAA,WAAA,KAAA,IAAA,EAAA;AACA,cAAA,KAAA;AACA,aAAA,OAAA,CAAA,OAAA,CAAA,QAAA;AACA,OAHA,MAGA;AACA,YAAA,MAAA,KAAA,EAAA;AAAA,YACA,QAAA,KAAA,GADA;AAAA,YAEA,QAAA,GAFA;AAAA,YAGA,MAAA,GAHA,CADA,CAKA;;AACA,YAAA,MACA,iDACA,GADA,GAEA,SAFA,GAGA,KAHA,GAIA,SAJA,GAKA,KALA,GAKA,OALA,GAKA,GANA;AAOA,aAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA;AACA;AACA,cAAA,OAAA,IAAA,GAAA,CAAA,EAAA;AACA;AACA,mBAAA,MAAA,CAAA,MAAA,CAAA,WAAA;;AACA,kBAAA,OAAA,IAAA,CAAA,GAAA;AACA,WAJA,MAIA;AACA,kBAAA,OAAA,IAAA,CAAA,GAAA;AACA;AACA,SAXA;AAYA;AACA;AA3EA,GAdA;AA2FA,SA3FA,qBA2FA;AACA,SAAA,YAAA;AACA,SAAA,YAAA;AACA,SAAA,YAAA;AACA,SAAA,MAAA;AACA,SAAA,UAAA;AACA,GAjGA;AAkGA,cAAA;AAAA,iBAAA;AAAA;AAlGA,CAAA","sourcesContent":["<template>\n  <div class=\"goods\">\n    <!-- <swipe-box :list=\"list\"></swipe-box> -->\n    <div class=\"goods-pic\">\n        <img :src=\"info.img_url\" class=\"bgPic\">\n    </div>\n    <div class=\"goods-info\">\n      <div class=\"price\">\n        <p class=\"now-price\">¥{{info.price*.88}}</p>\n        <span class=\"time-kill\">限时秒杀</span>\n        <span class=\"old-price\">¥{{info.price}}</span>\n      </div>\n      <div class=\"goods-name\">\n        <p>{{info.name}}</p>\n        <div class=\"more-info\">\n          <span>全国包邮</span>\n          <span>新品上市</span>\n          <span>货到付款</span>\n          <span>退换无忧</span>\n          <span>品质保证</span>\n        </div>\n        <div class=\"goods-tab\">\n          <span>快递:0.00</span>\n          <span>月售:220</span>\n          <span>重庆江津</span>\n        </div>\n      </div>\n      <div class=\"tab-bar\">\n        <div class=\"tab-item\" v-for=\"(item,index) in tabList\" :key=\"index\">\n          <img :src=\"item.img_url\">\n          <p>{{item.name}}</p>\n        </div>\n        <div class=\"add-cart\"><button @click=\"addCart\">加入购物车</button></div>\n        <div class=\"buy\"><button>立即购买</button></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Toast } from \"mint-ui\";\n//引入轮播图组件\nimport swipe from \"../sub/swipe\";\nexport default {\n  data() {\n    return { id: this.$route.params.id, list: [], val: 1, info: {} ,\n      tabList:[\n        {id:1,name:'客服',img_url:'http://skyrinbyliu.applinzi.com/img/help.png'},\n        {id:2,name:'店铺',img_url:'http://skyrinbyliu.applinzi.com/img/shop.png'},\n        {id:3,name:'收藏',img_url:'http://skyrinbyliu.applinzi.com/img/shoucang.png'}\n      ],\n      bottomShow:false, //底部是否显示\n      topShow:true, //头部是否显示\n      leftShow:true,//返回按钮是否显示\n    }\n    \n  },\n  methods: {\n    leftIsShow(){\n      this.$emit('leftIsShow',this.leftShow)\n    },\n    bottomIsShow(){\n      this.$emit('bottomIsShow',this.bottomShow)\n    },\n    isShow(){\n      this.$emit('isShow',this.topShow)\n    },\n    getGoodsInfo() {\n      var id = this.id;\n      var url = \"http://skyrinbyliu.applinzi.com/getProduct?id=\"+id;\n      this.axios.get(url).then(result => {\n         this.info= result.data.data\n        console.log(this.info);\n      });\n    },\n    // getGoodsInfo(){\n    //     //1:获取参数 id\n    //     var id = this.id;\n    //     //2:发送ajax请求获取商品信息\n    //     var url = \"http://127.0.0.1:3000/getProduct?id=\"+id;\n    //     this.axios.get(url).then(result=>{\n    //         this.info = result.data.data;\n    //     });\n    //   },\n    getImageList() {\n      var url = \"http://skyrinbyliu.applinzi.com/getGoodsInfo\";\n      this.axios.get(url).then(result => {\n        this.list = result.data;\n        console.log(this.list);\n      });\n    },\n    less() {\n      if (this.val > 1) {\n        this.val--;\n      }\n    },\n    more() {\n      if (this.val < 998) {\n        this.val++;\n      }\n    },\n    addCart() {\n      //参数 uid = 1 pid count price\n      if(sessionStorage['loginInfo']==null){\n        Toast('请登录');\n        this.$router.replace('/Login')\n      }else{\n      var pid = this.id,\n        count = this.val,\n        price = 9.9,\n        uid =uid;\n      //发送ajax请求将数据发送到服务器\n      var url =\n        \"http://skyrinbyliu.applinzi.com/addCart?pid=\"+ \n        pid +\n        \"&count=\" +\n        count +\n        \"&price=\" +\n        price+\"&uid=\"+uid;\n      this.axios.get(url).then(result => {\n         //获取返回结果\n        //显示提示信息\n        // console.log(result.data);\n        if (result.code > 0) {\n          //如果商品添加成功 修改全局共享变量 cartCount\n          this.$store.commit(\"increment\");  \n          Toast(result.data.msg);\n        } else {\n          Toast(result.data.msg);\n        }\n      });\n    }\n    }\n  },\n  created() {\n    this.getImageList();\n    this.getGoodsInfo();\n    this.bottomIsShow();\n    this.isShow();\n    this.leftIsShow();\n  },\n  components: { \"swipe-box\": swipe }\n};\n</script>\n<style scoped>\n.more-info{\n  margin-top: 5px;\n  margin-left: 10px;\n}\n.more-info span{\n    color:#d81e06;\n    padding: 5px 0 0;\n    line-height: 1.3;\n    position: relative;\n    font-size: 12px;\n    max-height: 46px;\n    overflow: hidden;\n    margin-right: 5px;\n}\n.goods-name p{\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 18px;\n  margin-left: 10px;\n  color: #000;\n  text-align: start;\n}\n.goods-pic{\n  /* margin-bottom: 0; */\n  height: 375px;\n}\n.bgPic{\n  width: 100%;\n}\n.goods-info{\n  margin-top: 0;\n}\n*{\n  padding: 0;\n  margin: 0;\n}\n.add-cart{\n  width: 30%;\n}\n.add-cart button{\n  width: 100%;\n  height: 40px;\n  border-radius: 4px 0 0 4px;\n  border: 0;\n  background: #d81e07;\n  color: rgb(255, 255, 255);\n}\n.buy{\n  width: 30%;\n}\n.buy button{\n  width: 100%;\n  height: 40px;\n  border-radius: 0 4px 4px 0;\n  border: 0;\n  background: #d47b07;\n  color: #fff;\n}\n.tab-item{\n  width: 13.3%;\n  border: 1px solid rgb(230, 229, 229);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background:#fff;\n}\n.tab-item p{\n  font-size: 10px;\n  color: #252525;\n}\n.tab-bar{\n  width: 100%;\n  /* border: 1px solid red; */\n  display: flex;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  align-items: center;\n  text-align: center;\n}\n.goods-tab{\n  margin-left: 10px;\n  margin-top: 5px;\n  display: flex;\n  justify-content: space-between\n}\n.goods-tab span{\n font-size: 10px;\n color: #8c8c8c;\n}\n.goods-tab span:last-child{\n  margin-right: 10px;\n}\n.goods-name{\n  margin-top: 10px;\n}\n.price{\n  /* margin-top: 5px; */\n  /* background: linear-gradient(left,#006699,#fff) */\n  background: #d81e06;\n}\n.price .time-kill{\n  margin-left: 10px;\n  color: #fff;\n  font-size: 14px;\n}\n.price .now-price{\n  padding-top: 10px;\n  margin-left: 10px;\n  color: #fff;\n  font-size: 20px;\n}\n.price .old-price{\n  margin-left: 10px;\n  color: #fff;\n  font-size: 10px;\n  text-decoration: line-through;\n}\n.goods{\n  background: #fff;\n}\n</style>\n"],"sourceRoot":"src/components/goods"}]}