{"remainingRequest":"/Users/liuhai/Desktop/project/Vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhai/Desktop/project/Vue-app/src/components/goods/GoodsInfo.vue?vue&type=template&id=97a93baa","dependencies":[{"path":"/Users/liuhai/Desktop/project/Vue-app/src/components/goods/GoodsInfo.vue","mtime":1551063373748},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/cache-loader/dist/cjs.js","mtime":1534853416000},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1526010762000},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/cache-loader/dist/cjs.js","mtime":1534853416000},{"path":"/Users/liuhai/Desktop/project/Vue-app/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n  <div class=\"goods-info\">\n    <swipe-box :list=\"list></swipe-box>\n  </div>\n</template>\n<script>\nimport { Toast } from \"mint-ui\";\n//引入轮播图组件\nimport swipe from \"../sub/swipe\";\nexport default {\n  data() {\n    return { id: this.$route.params.id, list: [], val: 1, info: {} };\n  },\n  methods: {\n    getGoodsInfo() {\n      var id = this.id;\n      var url = \"http://skyrinbyliu.applinzi.com/getProduct?id=\"+id;\n      this.axios.get(url).then(result => {\n         this.info= result.data.data\n        console.log(this.info);\n      });\n    },\n    // getGoodsInfo(){\n    //     //1:获取参数 id\n    //     var id = this.id;\n    //     //2:发送ajax请求获取商品信息\n    //     var url = \"http://127.0.0.1:3000/getProduct?id=\"+id;\n    //     this.axios.get(url).then(result=>{\n    //         this.info = result.data.data;\n    //     });\n    //   },\n    getImageList() {\n      var url = \"http://skyrinbyliu.applinzi.com/getGoodsInfo\";\n      this.axios.get(url).then(result => {\n        this.list = result.data;\n        console.log(this.list);\n      });\n    },\n    less() {\n      if (this.val > 1) {\n        this.val--;\n      }\n    },\n    more() {\n      if (this.val < 998) {\n        this.val++;\n      }\n    },\n    addCart() {\n      //参数 uid = 1 pid count price\n      if(sessionStorage['loginInfo']==null){\n        Toast('请登录');\n        this.$router.replace('/Login')\n      }else{\n      var pid = this.id,\n        count = this.val,\n        price = 9.9,\n        uid =uid;\n      //发送ajax请求将数据发送到服务器\n      var url =\n        \"http://skyrinbyliu.applinzi.com/addCart?pid=\"+ \n        pid +\n        \"&count=\" +\n        count +\n        \"&price=\" +\n        price+\"&uid=\"+uid;\n      this.axios.get(url).then(result => {\n         //获取返回结果\n        //显示提示信息\n        // console.log(result.data);\n        if (result.code > 0) {\n          //如果商品添加成功 修改全局共享变量 cartCount\n          this.$store.commit(\"increment\");  \n          Toast(result.data.msg);\n        } else {\n          Toast(result.data.msg);\n        }\n      });\n    }\n    }\n  },\n  created() {\n    this.getImageList();\n    this.getGoodsInfo();\n  },\n  components: { \"swipe-box\": swipe }\n};\n</script>\n<style scoped>\n.link{\n  margin-top: 5px;\n  border-bottom: 1px solid #e4e1e1;\n  \n}\n.goods-info{\n  background: #fff;\n}\n/* .price{\n  background: linear-gradient(left,#d81e07,rgb(212, 35, 189));\n  height: 50px;\n}\n.price .new-price{\n  color: #fff;\n  font-size: 20px;\n} */\n/* .mui-card-footer button {\n  border: 1px solid #e83632;\n  color:#e83632;\n  background: #fff;\n  border-radius: 4px;\n  width: 159px;\n  height: 40px;\n}\n.mui-card-footer button:hover{\n  background: #e83632;\n  color: #fff;\n}\n.mui-card-footer .in-cart {\n  background: #fff;\n  color:#26a2ff;\n  border: 1px solid #26a2ff;\n}\n.goods-info .mui-card-inner .price span{\n  color: #e83632;\n  font-size: 20px;\n}\n.goods-info .mui-card-inner .price span.cheap{\n  margin-left: 80px;\n  font-size: 30px;\n  font-family:Hurricane;\n} */\n</style>",null]}